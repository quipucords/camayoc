---
# General settings. They cover main infrastructure that camayoc interacts
# with and camayoc itself.

# Camayoc test framework settings
camayoc:
    run_scans: false

# Quipucords / Discovery server
# Settings below allow you to connect to quipucords development server
# running locally.
# If you run Discovery server locally in container, set the port to 443
# and https to true. Keep ssl-verify as false, unless you've set up the
# certificates.
quipucords_server:
    hostname: '127.0.0.1'
    https: false
    port: 8000
    ssl-verify: false
    # credentials for logging into the server
    username: 'admin'
    password: 'qpcpassw0rd'
    ssh_keyfile_path: '/home/user/quipucords/server/volumes/sshkeyfiles/'

# Quipucords / Discovery CLI
quipucords_cli:
    executable: qpc

# OpenShift (OCP) cluster
openshift:
    - hostname: api.example.com:6443
      token: sha256~...
      skip_tls_verify: true

# We host most of our test machines on a VCenter instance
# and this section contains its URL and the credentials
# needed to log in to it
vcenter:
    hostname: OURTEAMVCENTER.com
    password: "CHANGETHISPASSWORD"
    username: CHANGETHISUSERNAME


# Data-related settings. They cover various entities that camayoc might
# create in Quipucords during test execution. Storing them here allows
# us to simplify scan / report tests, or express requests like "give me
# random working network-type source".

credentials:
    - name: root
      type: 'network'
      # NOTE: When running quipucords in a container, this path
      # must be the path that exists in the container.
      sshkeyfile: ~/.ssh/id_rsa
      username: root
    - name: 'vcenter'
      type: 'vcenter'
      password: 'example1'
      username: 'username1'
    - name: 'sat6'
      type: 'satellite'
      password: 'CHANGEME'
      username: 'CHANGEUSERNAME'

# Values in "credentials" field can use names present in "credentials" section
# above
sources:
    - hosts:
          - 'myfavnetwork.com'
      credentials:
          - root
      name: 'myfav'
      type: 'network'
    - hosts:
          - 'my_vcenter.com'
      credentials:
          - 'vcenter'
      name: 'vcenter'
      type: 'vcenter'
      options:
          ssl_cert_verify: false
    - hosts:
          - 'sat6.com'
      credentials:
          - 'sat6'
      name: 'sat6'
      type: 'satellite'
      options:
          ssl_cert_verify: false

# Values in "sources" field can use names present in "sources" section above
scans:
    - name: ExampleSat6
      sources:
          # these refer to the hostnames in the inventory section
          - 'sat6'
    - name: ExampleWithProducts
      sources:
          - 'myfav'
          - 'vcenter'
      expected_data:
          - hostname: jbossamq-rhel-5-vc
            credentials:
                - root
            ipv4: 10.10.181.14
            hypervisor: vcenter
            distribution:
                name: 'Red Hat Enterprise Linux'
                version: '5.9'
            products:
                jbossamq:
                    install-process: zip
                    version: '6.2.0'
                openjdk:
                    version: '1.7'
          - hostname: jbossamq-rhel-6-vc
            credentials:
                - root
            ipv4: 10.10.181.132
            hypervisor: vcenter
            distribution:
                # Name of OS should be substring of name found
                # with quipucords
                name: 'Red Hat Enterprise Linux'
                # version should be substring of version found
                # in /etc/redhat-release
                version: '6.9'
            products:
                jbossamq:
                    install-process: zip
                    version: '7.0.2'
                openjdk:
                    version: '1.8'
